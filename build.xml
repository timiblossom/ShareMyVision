<?xml version="1.0"?>
<project name="ShareMyVision"
         basedir="."
         default="usage">
  <property file="build.properties" />
  <property name="name"
            value="ShareMyVision" />
  <property name="src.dir"
            value="src" />
  <property name="conf.dir"
            value="conf" />
  <property name="dist.dir"
            value="dist" />
  <property name="build.dir"
            value="build" />
  <property name="web.dir"
            value="webapp" />
  <property name="lib.dir"
            value="lib" />
  <property name="web.build.dir"
            value="${web.dir}/WEB-INF/classes" />
  <property name="tomcat.dir"
            value="C:\Tomcat" />
  <property name="frontend"
            value="web" />
  <property name="file"
            value="file" />
  <property name="user"
            value="user" />
  <property name="catalog"
            value="catalog" />
  <property name="payment"
            value="payment" />
  <property name="mailer"
            value="mailer" />
  <property name="iprocessor"
            value="iprocessor" />
  <property name="outlet"
            value="outlet" />
  <path id="master-classpath">
    <fileset dir="lib">
      <include name="*.jar" />
    </fileset>
    <fileset dir="lib">
      <include name="servlet*.jar" />
    </fileset>
    <pathelement path="${build.dir}" />
    <pathelement path="${test.dir}" />
  </path>
  <target name="usage">
    <echo message="" />
    <echo message="${name} build file" />
    <echo message="-----------------------------------" />
    <echo message="" />
    <echo message="Available targets are:" />
    <echo message="" />
    <echo message="build     --&gt; Build the application" />
    <echo message="jar    --&gt; build a jar file in dist" />
    <echo message="" />
  </target>
  <target name="build"
          description="Compile main source tree java files">
    <mkdir dir="${build.dir}" />
    <javac destdir="${build.dir}"
           source="1.6"
           target="1.6"
           debug="true"
           deprecation="false"
           optimize="false"
           failonerror="true">
      <src path="${src.dir}" />
      <classpath refid="master-classpath" />
    </javac>
  </target>
  <target name="jar"
          depends="build"
          description="Create jar file">
    <copy todir="build">
      <fileset dir="conf"
               includes="**/*.properties" />
      <fileset dir="conf"
               excludes="**/web.xml"
               includes="**/*.xml" />
    </copy>
    <mkdir dir="dist" />
    <jar destfile="dist/sharemyvision.jar"
         basedir="build">
      <include name="**" />
      <exclude name="**/web.xml" />
    </jar>
  </target>
  <target name="clean-build-deploy-catalog"
          depends="build,jar,deploy-catalog"
          description="Cleans, builds, and deploys for Catalog Engine Module product" />
  <target name="clean-build-deploy-outlet"
          depends="build,jar,deploy-outlet"
          description="Cleans, builds, and deploys for Outlet Engine Module product" />
  <target name="clean-build-deploy-file"
          depends="deploy-file"
          description="Cleans, builds, and deploys for File Engine Module product" />
  <target name="clean-build-deploy-mailer"
          depends="clean-mailer,build,jar,deploy-mailer"
          description="Cleans, builds, and deploys for Mailer Module product" />
  <target name="clean-build-deploy-payment"
          depends="clean-payment,build,jar,deploy-payment"
          description="Cleans, builds, and deploys for Payment Engine Module product" />
  <target name="clean-build-deploy-user"
          depends="clean-user,build,jar,deploy-user"
          description="Cleans, builds, and deploys for User Engine Module product" />
  <target name="clean-build-deploy-web"
          depends="clean-web,build,deploy-web"
          description="Cleans, builds, and deploys for Web Module product" />
  <target name="clean-build-deploy-all"
          depends="clean-all,build,deploy-file,deploy-user,deploy-catalog,deploy-payment,deploy-outlet,deploy-web"
          description="Cleans, builds, and deploys all products" />
  <target name="clean-all"
          depends="clean,clean-web,clean-file,clean-user,clean-catalog,clean-payment,clean-mailer,clean-outlet"
          description="Clean all products" />
  <target name="clean"
          description="Clean output directories">
    <!--
        <delete>
            <fileset dir="${build.dir}">
                <include name="**/*.class"/>
            </fileset>
        </delete>
        -->
    <delete dir="${build.dir}"
            includeemptydirs="true"
            defaultexcludes="no">
      <include name="**/**" />
      <exclude name="logs" />
    </delete>
    <delete dir="dist"
            includeemptydirs="true"
            defaultexcludes="no">
      <include name="**/*.jar" />
    </delete>
    <delete dir="${dist.dir}"
            includeemptydirs="true"
            defaultexcludes="no">
      <include name="**/**" />
    </delete>
    <delete dir="${tomcat.dir}/webapps/smv"
            includeemptydirs="true"
            defaultexcludes="no">
      <include name="**/**" />
    </delete>
  </target>
  <target name="clean-web"
          description="Clean output directories">
    <delete dir="${build.dir}"
            includeemptydirs="true"
            defaultexcludes="no">
      <include name="**/**" />
      <exclude name="logs" />
    </delete>
    <delete dir="dist"
            includeemptydirs="true"
            defaultexcludes="no">
      <include name="**/*.jar" />
    </delete>
    <delete dir="${dist.dir}"
            includeemptydirs="true"
            defaultexcludes="no">
      <include name="**/**" />
    </delete>
    <delete dir="${tomcat.dir}/webapps/web"
            includeemptydirs="true"
            defaultexcludes="no">
      <include name="**/**" />
    </delete>
  </target>
  <target name="clean-file"
          description="Clean output directories">
    <delete dir="${build.dir}"
            includeemptydirs="true"
            defaultexcludes="no">
      <include name="**/**" />
      <exclude name="logs" />
    </delete>
    <delete dir="dist"
            includeemptydirs="true"
            defaultexcludes="no">
      <include name="**/*.jar" />
    </delete>
    <delete dir="${dist.dir}"
            includeemptydirs="true"
            defaultexcludes="no">
      <include name="**/**" />
    </delete>
    <delete dir="${tomcat.dir}/webapps/file"
            includeemptydirs="true"
            defaultexcludes="no">
      <include name="**/**" />
    </delete>
  </target>
  <target name="clean-user"
          description="Clean output directories for User module">
    <delete dir="${build.dir}"
            includeemptydirs="true"
            defaultexcludes="no">
      <include name="**/**" />
      <exclude name="logs" />
    </delete>
    <delete dir="dist"
            includeemptydirs="true"
            defaultexcludes="no">
      <include name="**/*.jar" />
    </delete>
    <delete dir="${dist.dir}"
            includeemptydirs="true"
            defaultexcludes="no">
      <include name="**/**" />
    </delete>
    <delete dir="${tomcat.dir}/webapps/user"
            includeemptydirs="true"
            defaultexcludes="no">
      <include name="**/**" />
    </delete>
  </target>
  <target name="clean-catalog"
          description="Clean output directories for Catalog module">
    <delete dir="${build.dir}"
            includeemptydirs="true"
            defaultexcludes="no">
      <include name="**/**" />
      <exclude name="logs" />
    </delete>
    <delete dir="dist"
            includeemptydirs="true"
            defaultexcludes="no">
      <include name="**/*.jar" />
    </delete>
    <delete dir="${dist.dir}"
            includeemptydirs="true"
            defaultexcludes="no">
      <include name="**/**" />
    </delete>
    <delete dir="${tomcat.dir}/webapps/catalog"
            includeemptydirs="true"
            defaultexcludes="no">
      <include name="**/**" />
    </delete>
  </target>
  <target name="clean-outlet"
          description="Clean output directories for Outlet module">
    <delete dir="${build.dir}"
            includeemptydirs="true"
            defaultexcludes="no">
      <include name="**/**" />
      <exclude name="logs" />
    </delete>
    <delete dir="dist"
            includeemptydirs="true"
            defaultexcludes="no">
      <include name="**/*.jar" />
    </delete>
    <delete dir="${dist.dir}"
            includeemptydirs="true"
            defaultexcludes="no">
      <include name="**/**" />
    </delete>
    <delete dir="${tomcat.dir}/webapps/outlet"
            includeemptydirs="true"
            defaultexcludes="no">
      <include name="**/**" />
    </delete>
  </target>
  <target name="clean-mailer"
          description="Clean output directories for Mailer module">
    <delete dir="${build.dir}"
            includeemptydirs="true"
            defaultexcludes="no">
      <include name="**/**" />
      <exclude name="logs" />
    </delete>
    <delete dir="dist"
            includeemptydirs="true"
            defaultexcludes="no">
      <include name="**/*.jar" />
    </delete>
    <delete dir="${dist.dir}"
            includeemptydirs="true"
            defaultexcludes="no">
      <include name="**/**" />
    </delete>
    <delete dir="${tomcat.dir}/webapps/mailer"
            includeemptydirs="true"
            defaultexcludes="no">
      <include name="**/**" />
    </delete>
  </target>
  <target name="clean-payment"
          description="Clean output directories for Payment module">
    <delete dir="${build.dir}"
            includeemptydirs="true"
            defaultexcludes="no">
      <include name="**/**" />
      <exclude name="logs" />
    </delete>
    <delete dir="dist"
            includeemptydirs="true"
            defaultexcludes="no">
      <include name="**/*.jar" />
    </delete>
    <delete dir="${dist.dir}"
            includeemptydirs="true"
            defaultexcludes="no">
      <include name="**/**" />
    </delete>
    <delete dir="${tomcat.dir}/webapps/payment"
            includeemptydirs="true"
            defaultexcludes="no">
      <include name="**/**" />
    </delete>
  </target>
  <target name="deploy-all"
          depends="clean-all,deploy-file,deploy-user,deploy-catalog,deploy-outlet,deploy-mailer,deploy-web"
          description="Cleans, builds, and deploys all products" />
  <target name="deploy-web"
          depends="build"
          description="Deploy to tomcat">
    <mkdir dir="dist" />
    <mkdir dir="${dist.dir}/${frontend}" />
    <copy todir="${dist.dir}/${frontend}">
      <fileset dir="web/public"
               includes="**/*.*" />
    </copy>
    <mkdir dir="${dist.dir}/${frontend}/WEB-INF" />
    <mkdir dir="${dist.dir}/${frontend}/WEB-INF/app" />
    <copy todir="${dist.dir}/${frontend}/WEB-INF/app">
      <fileset dir="web/app"
               includes="**/*.*" />
    </copy>
    <mkdir dir="${dist.dir}/${frontend}/WEB-INF/config" />
    <copy todir="${dist.dir}/${frontend}/WEB-INF/config">
      <fileset dir="web/config"
               includes="**/*.*" />
    </copy>
    <mkdir dir="${dist.dir}/${frontend}/WEB-INF/gems" />
    <copy todir="${dist.dir}/${frontend}/WEB-INF/gems">
      <fileset dir="web/gems"
               includes="**/*.*" />
    </copy>
    <mkdir dir="${dist.dir}/${frontend}/WEB-INF/lib" />
    <copy todir="${dist.dir}/${frontend}/WEB-INF/lib">
      <fileset dir="web/lib"
               includes="**/*.*" />
    </copy>
    <mkdir dir="${dist.dir}/${frontend}/WEB-INF/log" />
    <copy todir="${dist.dir}/${frontend}/WEB-INF/log">
      <fileset dir="web/log"
               includes="**/*.*" />
    </copy>
    <mkdir dir="${dist.dir}/${frontend}/WEB-INF/tmp" />
    <copy todir="${dist.dir}/${frontend}/WEB-INF/tmp">
      <fileset dir="web/tmp"
               includes="**/*.*" />
    </copy>
    <mkdir dir="${dist.dir}/${frontend}/WEB-INF/vendor" />
    <copy todir="${dist.dir}/${frontend}/WEB-INF/vendor">
      <fileset dir="web/vendor"
               includes="**/*.*" />
    </copy>
    <mkdir dir="${dist.dir}/${frontend}/WEB-INF/classes" />
    <copy todir="${dist.dir}/${frontend}/WEB-INF/classes">
      <fileset dir="build"
               includes="**/*.class" />
    </copy>
    <copy overwrite="false"
          file="${lib.dir}/commons-codec-1.4.jar"
          todir="${dist.dir}/${frontend}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-logging-1.1.1.jar"
          todir="${dist.dir}/${frontend}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/cxf-2.2.6.jar"
          todir="${dist.dir}/${frontend}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/gson-1.5.jar"
          todir="${dist.dir}/${frontend}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jruby-complete-1.5.3.jar"
          todir="${dist.dir}/${frontend}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jruby-rack-1.0.3.jar"
          todir="${dist.dir}/${frontend}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/log4j-1.2.15.jar"
          todir="${dist.dir}/${frontend}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/neethi-2.0.4.jar"
          todir="${dist.dir}/${frontend}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/spring-2.5.6.jar"
          todir="${dist.dir}/${frontend}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/XmlSchema-1.4.5.jar"
          todir="${dist.dir}/${frontend}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/wsdl4j-1.6.2.jar"
          todir="${dist.dir}/${frontend}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${conf.dir}/${frontend}/web.xml"
          tofile="${dist.dir}/${frontend}/WEB-INF/web.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${frontend}/log4j.xml"
          tofile="${dist.dir}/${frontend}/WEB-INF/classes/log4j.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${frontend}/application.properties"
          tofile="${dist.dir}/${frontend}/WEB-INF/classes/application.properties" />
    <copy overwrite="false"
          file="${conf.dir}/${frontend}/web.properties"
          tofile="${dist.dir}/${frontend}/WEB-INF/classes/web.properties" />
    <copy overwrite="false"
          file="${conf.dir}/${frontend}/client-proxy.xml"
          tofile="${dist.dir}/${frontend}/WEB-INF/classes/client-proxy.xml" />
    <!--- deploy to tomcat's webapps directory  -->
    <copy todir="${tomcat.dir}/webapps/${frontend}">
      <fileset dir="${dist.dir}/${frontend}"
               includes="**/*.*" />
    </copy>
  </target>
  <target name="deploy-file"
          depends="clean,build"
          description="Deploy File module to tomcat">
    <mkdir dir="dist" />
    <mkdir dir="${dist.dir}/${file}" />
    <mkdir dir="${dist.dir}/${file}/WEB-INF/classes" />
    <copy todir="${dist.dir}/${file}/WEB-INF/classes">
      <fileset dir="build"
               includes="**/*.class" />
    </copy>
    <copy overwrite="false"
          file="${lib.dir}/antlr-2.7.7.jar"
          todir="${dist.dir}/${file}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/c3p0-0.9.1.2.jar"
          todir="${dist.dir}/${file}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-codec-1.4.jar"
          todir="${dist.dir}/${file}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-collections-3.2.1.jar"
          todir="${dist.dir}/${file}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-fileupload.jar"
          todir="${dist.dir}/${file}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-httpclient-3.1.jar"
          todir="${dist.dir}/${file}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-logging-1.1.1.jar"
          todir="${dist.dir}/${file}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-pool-1.5.2.jar"
          todir="${dist.dir}/${file}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/cxf-2.2.6.jar"
          todir="${dist.dir}/${file}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/dom4j-1.6.1.jar"
          todir="${dist.dir}/${file}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/hibernate3.jar"
          todir="${dist.dir}/${file}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/javassist.jar"
          todir="${dist.dir}/${file}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jaxb-api-2.1.jar"
          todir="${dist.dir}/${file}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jaxb-impl-2.1.12.jar"
          todir="${dist.dir}/${file}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jaxb-xjc-2.1.12.jar"
          todir="${dist.dir}/${file}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jets3t-0.7.3.jar"
          todir="${dist.dir}/${file}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jta.jar"
          todir="${dist.dir}/${file}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/log4j-1.2.15.jar"
          todir="${dist.dir}/${file}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/mail.jar"
          todir="${dist.dir}/${file}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/mysql-connector-java-5.1.7-bin.jar"
          todir="${dist.dir}/${file}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/saaj-api-1.3.jar"
          todir="${dist.dir}/${file}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/saaj-impl-1.3.2.jar"
          todir="${dist.dir}/${file}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/slf4j-api-1.5.8.jar"
          todir="${dist.dir}/${file}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/slf4j-log4j12-1.5.6.jar"
          todir="${dist.dir}/${file}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/spring-2.5.6.jar"
          todir="${dist.dir}/${file}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/wsdl4j-1.6.2.jar"
          todir="${dist.dir}/${file}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/XmlSchema-1.4.5.jar"
          todir="${dist.dir}/${file}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${conf.dir}/${file}/log4j.xml"
          tofile="${dist.dir}/${file}/WEB-INF/classes/log4j.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${file}/hibernate.file.mappings.xml"
          tofile="${dist.dir}/${file}/WEB-INF/classes/hibernate.file.mappings.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${file}/hibernate.file.queries.xml"
          tofile="${dist.dir}/${file}/WEB-INF/classes/hibernate.file.queries.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${file}/web.xml"
          tofile="${dist.dir}/${file}/WEB-INF/web.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${file}/file.xml"
          tofile="${dist.dir}/${file}/WEB-INF/classes/file.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${file}/file-common.xml"
          tofile="${dist.dir}/${file}/WEB-INF/classes/file-common.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${file}/application.properties"
          tofile="${dist.dir}/${file}/WEB-INF/classes/application.properties" />
    <copy overwrite="false"
          file="${conf.dir}/${file}/file.properties"
          tofile="${dist.dir}/${file}/WEB-INF/classes/file.properties" />
    <copy overwrite="false"
          file="${conf.dir}/${file}/file-svc.xml"
          tofile="${dist.dir}/${file}/WEB-INF/classes/file-svc.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${file}/file-db.xml"
          tofile="${dist.dir}/${file}/WEB-INF/classes/file-db.xml" />
    <!--- deploy to tomcat's webapps directory  -->
    <copy todir="${tomcat.dir}/webapps/${file}">
      <fileset dir="${dist.dir}/${file}"
               includes="**/*.*" />
    </copy>
  </target>
  <target name="deploy-catalog"
          depends="build"
          description="Deploy Catalog module to tomcat">
    <mkdir dir="dist" />
    <mkdir dir="${dist.dir}/${catalog}" />
    <mkdir dir="${dist.dir}/${catalog}/WEB-INF/classes" />
    <copy todir="${dist.dir}/${catalog}/WEB-INF/classes">
      <fileset dir="build"
               includes="**/*.class" />
    </copy>
    <copy overwrite="false"
          file="${lib.dir}/antlr-2.7.7.jar"
          todir="${dist.dir}/${catalog}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/c3p0-0.9.1.2.jar"
          todir="${dist.dir}/${catalog}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-codec-1.4.jar"
          todir="${dist.dir}/${catalog}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-collections-3.2.1.jar"
          todir="${dist.dir}/${catalog}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-fileupload.jar"
          todir="${dist.dir}/${catalog}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-httpclient-3.1.jar"
          todir="${dist.dir}/${catalog}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-logging-1.1.1.jar"
          todir="${dist.dir}/${catalog}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-pool-1.5.2.jar"
          todir="${dist.dir}/${catalog}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/cxf-2.2.6.jar"
          todir="${dist.dir}/${catalog}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/dom4j-1.6.1.jar"
          todir="${dist.dir}/${catalog}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/hibernate3.jar"
          todir="${dist.dir}/${catalog}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/javassist.jar"
          todir="${dist.dir}/${catalog}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jaxb-api-2.1.jar"
          todir="${dist.dir}/${catalog}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jaxb-impl-2.1.12.jar"
          todir="${dist.dir}/${catalog}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jaxb-xjc-2.1.12.jar"
          todir="${dist.dir}/${catalog}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jets3t-0.7.3.jar"
          todir="${dist.dir}/${catalog}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jta.jar"
          todir="${dist.dir}/${catalog}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/log4j-1.2.15.jar"
          todir="${dist.dir}/${catalog}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/mail.jar"
          todir="${dist.dir}/${catalog}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/mysql-connector-java-5.1.7-bin.jar"
          todir="${dist.dir}/${catalog}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/saaj-api-1.3.jar"
          todir="${dist.dir}/${catalog}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/saaj-impl-1.3.2.jar"
          todir="${dist.dir}/${catalog}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/slf4j-api-1.5.8.jar"
          todir="${dist.dir}/${catalog}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/slf4j-log4j12-1.5.6.jar"
          todir="${dist.dir}/${catalog}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/spring-2.5.6.jar"
          todir="${dist.dir}/${catalog}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/wsdl4j-1.6.2.jar"
          todir="${dist.dir}/${catalog}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/XmlSchema-1.4.5.jar"
          todir="${dist.dir}/${catalog}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${conf.dir}/${catalog}/log4j.xml"
          tofile="${dist.dir}/${catalog}/WEB-INF/classes/log4j.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${catalog}/hibernate.catalog.mappings.xml"
          tofile="${dist.dir}/${catalog}/WEB-INF/classes/hibernate.catalog.mappings.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${catalog}/hibernate.catalog.queries.xml"
          tofile="${dist.dir}/${catalog}/WEB-INF/classes/hibernate.catalog.queries.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${catalog}/web.xml"
          tofile="${dist.dir}/${catalog}/WEB-INF/web.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${catalog}/catalog.xml"
          tofile="${dist.dir}/${catalog}/WEB-INF/classes/catalog.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${catalog}/catalog-common.xml"
          tofile="${dist.dir}/${catalog}/WEB-INF/classes/catalog-common.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${catalog}/application.properties"
          tofile="${dist.dir}/${catalog}/WEB-INF/classes/application.properties" />
    <copy overwrite="false"
          file="${conf.dir}/${catalog}/catalog.properties"
          tofile="${dist.dir}/${catalog}/WEB-INF/classes/catalog.properties" />
    <copy overwrite="false"
          file="${conf.dir}/${catalog}/catalog-svc.xml"
          tofile="${dist.dir}/${catalog}/WEB-INF/classes/catalog-svc.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${catalog}/catalog-db.xml"
          tofile="${dist.dir}/${catalog}/WEB-INF/classes/catalog-db.xml" />
    <!--- deploy to tomcat's webapps directory  -->
    <copy todir="${tomcat.dir}/webapps/${catalog}">
      <fileset dir="${dist.dir}/${catalog}"
               includes="**/*.*" />
    </copy>
  </target>
  <target name="deploy-outlet"
          depends="build"
          description="Deploy Outlet module to tomcat">
    <mkdir dir="dist" />
    <mkdir dir="${dist.dir}/${outlet}" />
    <mkdir dir="${dist.dir}/${outlet}/WEB-INF/classes" />
    <copy todir="${dist.dir}/${outlet}/WEB-INF/classes">
      <fileset dir="build"
               includes="**/*.class" />
    </copy>
    <copy overwrite="false"
          file="${lib.dir}/antlr-2.7.7.jar"
          todir="${dist.dir}/${outlet}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/c3p0-0.9.1.2.jar"
          todir="${dist.dir}/${outlet}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-codec-1.4.jar"
          todir="${dist.dir}/${outlet}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-collections-3.2.1.jar"
          todir="${dist.dir}/${outlet}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-fileupload.jar"
          todir="${dist.dir}/${outlet}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-httpclient-3.1.jar"
          todir="${dist.dir}/${outlet}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-logging-1.1.1.jar"
          todir="${dist.dir}/${outlet}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-pool-1.5.2.jar"
          todir="${dist.dir}/${outlet}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/cxf-2.2.6.jar"
          todir="${dist.dir}/${outlet}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/dom4j-1.6.1.jar"
          todir="${dist.dir}/${outlet}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/gson-1.5.jar"
          todir="${dist.dir}/${outlet}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/hibernate3.jar"
          todir="${dist.dir}/${outlet}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/javassist.jar"
          todir="${dist.dir}/${outlet}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jaxb-api-2.1.jar"
          todir="${dist.dir}/${outlet}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jaxb-impl-2.1.12.jar"
          todir="${dist.dir}/${outlet}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jaxb-xjc-2.1.12.jar"
          todir="${dist.dir}/${outlet}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jets3t-0.7.3.jar"
          todir="${dist.dir}/${outlet}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jta.jar"
          todir="${dist.dir}/${outlet}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/log4j-1.2.15.jar"
          todir="${dist.dir}/${outlet}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/mail.jar"
          todir="${dist.dir}/${outlet}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/mysql-connector-java-5.1.7-bin.jar"
          todir="${dist.dir}/${outlet}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/saaj-api-1.3.jar"
          todir="${dist.dir}/${outlet}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/saaj-impl-1.3.2.jar"
          todir="${dist.dir}/${outlet}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/slf4j-api-1.5.8.jar"
          todir="${dist.dir}/${outlet}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/slf4j-log4j12-1.5.6.jar"
          todir="${dist.dir}/${outlet}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/spring-2.5.6.jar"
          todir="${dist.dir}/${outlet}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/wsdl4j-1.6.2.jar"
          todir="${dist.dir}/${outlet}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/XmlSchema-1.4.5.jar"
          todir="${dist.dir}/${outlet}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${conf.dir}/${outlet}/log4j.xml"
          tofile="${dist.dir}/${outlet}/WEB-INF/classes/log4j.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${outlet}/hibernate.outlet.mappings.xml"
          tofile="${dist.dir}/${outlet}/WEB-INF/classes/hibernate.outlet.mappings.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${outlet}/hibernate.outlet.queries.xml"
          tofile="${dist.dir}/${outlet}/WEB-INF/classes/hibernate.outlet.queries.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${outlet}/web.xml"
          tofile="${dist.dir}/${outlet}/WEB-INF/web.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${outlet}/outlet.xml"
          tofile="${dist.dir}/${outlet}/WEB-INF/classes/outlet.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${outlet}/outlet-common.xml"
          tofile="${dist.dir}/${outlet}/WEB-INF/classes/outlet-common.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${outlet}/application.properties"
          tofile="${dist.dir}/${outlet}/WEB-INF/classes/application.properties" />
    <copy overwrite="false"
          file="${conf.dir}/${outlet}/outlet.properties"
          tofile="${dist.dir}/${outlet}/WEB-INF/classes/outlet.properties" />
    <copy overwrite="false"
          file="${conf.dir}/${outlet}/outlet-svc.xml"
          tofile="${dist.dir}/${outlet}/WEB-INF/classes/outlet-svc.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${outlet}/outlet-db.xml"
          tofile="${dist.dir}/${outlet}/WEB-INF/classes/outlet-db.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${outlet}/outlet-proxy.xml"
          tofile="${dist.dir}/${outlet}/WEB-INF/classes/outlet-proxy.xml" />
    <!--- deploy to tomcat's webapps directory  -->
    <copy todir="${tomcat.dir}/webapps/${outlet}">
      <fileset dir="${dist.dir}/${outlet}"
               includes="**/*.*" />
    </copy>
  </target>
  <target name="deploy-mailer"
          depends="build"
          description="Deploy Mailer module to tomcat">
    <mkdir dir="dist" />
    <mkdir dir="${dist.dir}/${mailer}" />
    <mkdir dir="${dist.dir}/${mailer}/WEB-INF/classes" />
    <mkdir dir="${dist.dir}/${mailer}/WEB-INF/templates" />
    <copy todir="${dist.dir}/${mailer}/WEB-INF/classes">
      <fileset dir="build"
               includes="**/*.class" />
    </copy>
    <copy overwrite="false"
          file="${lib.dir}/antlr-2.7.7.jar"
          todir="${dist.dir}/${mailer}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/c3p0-0.9.1.2.jar"
          todir="${dist.dir}/${mailer}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-codec-1.4.jar"
          todir="${dist.dir}/${mailer}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-collections-3.2.1.jar"
          todir="${dist.dir}/${mailer}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-email-1.2.jar"
          todir="${dist.dir}/${mailer}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-fileupload.jar"
          todir="${dist.dir}/${mailer}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-httpclient-3.1.jar"
          todir="${dist.dir}/${mailer}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-io-1.4.jar"
          todir="${dist.dir}/${mailer}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-logging-1.1.1.jar"
          todir="${dist.dir}/${mailer}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-pool-1.5.2.jar"
          todir="${dist.dir}/${mailer}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/cxf-2.2.6.jar"
          todir="${dist.dir}/${mailer}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/dom4j-1.6.1.jar"
          todir="${dist.dir}/${mailer}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/hibernate3.jar"
          todir="${dist.dir}/${mailer}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/javassist.jar"
          todir="${dist.dir}/${mailer}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jaxb-api-2.1.jar"
          todir="${dist.dir}/${mailer}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jaxb-impl-2.1.12.jar"
          todir="${dist.dir}/${mailer}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jaxb-xjc-2.1.12.jar"
          todir="${dist.dir}/${mailer}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jets3t-0.7.3.jar"
          todir="${dist.dir}/${mailer}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/joda-time-1.6.jar"
          todir="${dist.dir}/${mailer}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jta.jar"
          todir="${dist.dir}/${mailer}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/log4j-1.2.15.jar"
          todir="${dist.dir}/${mailer}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/mail.jar"
          todir="${dist.dir}/${mailer}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/mysql-connector-java-5.1.7-bin.jar"
          todir="${dist.dir}/${mailer}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/saaj-api-1.3.jar"
          todir="${dist.dir}/${mailer}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/saaj-impl-1.3.2.jar"
          todir="${dist.dir}/${mailer}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/slf4j-api-1.5.8.jar"
          todir="${dist.dir}/${mailer}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/slf4j-log4j12-1.5.6.jar"
          todir="${dist.dir}/${mailer}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/spring-2.5.6.jar"
          todir="${dist.dir}/${mailer}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/velocity-1.6.4.jar"
          todir="${dist.dir}/${mailer}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/velocity-1.6.4-dep.jar"
          todir="${dist.dir}/${mailer}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/wsdl4j-1.6.2.jar"
          todir="${dist.dir}/${mailer}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/XmlSchema-1.4.5.jar"
          todir="${dist.dir}/${mailer}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${conf.dir}/${mailer}/application.properties"
          tofile="${dist.dir}/${mailer}/WEB-INF/classes/application.properties" />
    <copy overwrite="false"
          file="${conf.dir}/${mailer}/log4j.xml"
          tofile="${dist.dir}/${mailer}/WEB-INF/classes/log4j.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${mailer}/hibernate.mailer.mappings.xml"
          tofile="${dist.dir}/${mailer}/WEB-INF/classes/hibernate.mailer.mappings.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${mailer}/hibernate.mailer.queries.xml"
          tofile="${dist.dir}/${mailer}/WEB-INF/classes/hibernate.mailer.queries.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${mailer}/web.xml"
          tofile="${dist.dir}/${mailer}/WEB-INF/web.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${mailer}/mailer.xml"
          tofile="${dist.dir}/${mailer}/WEB-INF/classes/mailer.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${mailer}/mailer-common.xml"
          tofile="${dist.dir}/${mailer}/WEB-INF/classes/mailer-common.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${mailer}/application.properties"
          tofile="${dist.dir}/${mailer}/WEB-INF/classes/application.properties" />
    <copy overwrite="false"
          file="${conf.dir}/${mailer}/mailer.properties"
          tofile="${dist.dir}/${mailer}/WEB-INF/classes/mailer.properties" />
    <copy overwrite="false"
          file="${conf.dir}/${mailer}/mailer-svc.xml"
          tofile="${dist.dir}/${mailer}/WEB-INF/classes/mailer-svc.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${mailer}/mailer-db.xml"
          tofile="${dist.dir}/${mailer}/WEB-INF/classes/mailer-db.xml" />
    <copy todir="${dist.dir}/${mailer}/WEB-INF/templates">
      <fileset dir="${conf.dir}/${mailer}/templates"
               includes="**/*.*" />
    </copy>
    <!--- deploy to tomcat's webapps directory  -->
    <copy todir="${tomcat.dir}/webapps/${mailer}">
      <fileset dir="${dist.dir}/${mailer}"
               includes="**/*.*" />
    </copy>
  </target>
  <target name="deploy-payment"
          depends="build"
          description="Deploy Payment module to tomcat">
    <mkdir dir="dist" />
    <mkdir dir="${dist.dir}/${payment}" />
    <mkdir dir="${dist.dir}/${payment}/WEB-INF/classes" />
    <copy todir="${dist.dir}/${payment}/WEB-INF/classes">
      <fileset dir="build"
               includes="**/*.class" />
    </copy>
    <copy overwrite="false"
          file="${lib.dir}/antlr-2.7.7.jar"
          todir="${dist.dir}/${payment}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/c3p0-0.9.1.2.jar"
          todir="${dist.dir}/${payment}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-codec-1.4.jar"
          todir="${dist.dir}/${payment}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-collections-3.2.1.jar"
          todir="${dist.dir}/${payment}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-fileupload.jar"
          todir="${dist.dir}/${payment}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-httpclient-3.1.jar"
          todir="${dist.dir}/${payment}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-logging-1.1.1.jar"
          todir="${dist.dir}/${payment}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-pool-1.5.2.jar"
          todir="${dist.dir}/${payment}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/cxf-2.2.6.jar"
          todir="${dist.dir}/${payment}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/dom4j-1.6.1.jar"
          todir="${dist.dir}/${payment}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/hibernate3.jar"
          todir="${dist.dir}/${payment}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/javassist.jar"
          todir="${dist.dir}/${payment}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jaxb-api-2.1.jar"
          todir="${dist.dir}/${payment}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jaxb-impl-2.1.12.jar"
          todir="${dist.dir}/${payment}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jaxb-xjc-2.1.12.jar"
          todir="${dist.dir}/${payment}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jets3t-0.7.3.jar"
          todir="${dist.dir}/${payment}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jta.jar"
          todir="${dist.dir}/${payment}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/log4j-1.2.15.jar"
          todir="${dist.dir}/${payment}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/mail.jar"
          todir="${dist.dir}/${payment}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/mysql-connector-java-5.1.7-bin.jar"
          todir="${dist.dir}/${payment}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/saaj-api-1.3.jar"
          todir="${dist.dir}/${payment}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/saaj-impl-1.3.2.jar"
          todir="${dist.dir}/${payment}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/slf4j-api-1.5.8.jar"
          todir="${dist.dir}/${payment}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/slf4j-log4j12-1.5.6.jar"
          todir="${dist.dir}/${payment}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/spring-2.5.6.jar"
          todir="${dist.dir}/${payment}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/wsdl4j-1.6.2.jar"
          todir="${dist.dir}/${payment}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/XmlSchema-1.4.5.jar"
          todir="${dist.dir}/${payment}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${conf.dir}/${payment}/log4j.xml"
          tofile="${dist.dir}/${payment}/WEB-INF/classes/log4j.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${payment}/hibernate.payment.mappings.xml"
          tofile="${dist.dir}/${payment}/WEB-INF/classes/hibernate.payment.mappings.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${payment}/hibernate.payment.queries.xml"
          tofile="${dist.dir}/${payment}/WEB-INF/classes/hibernate.payment.queries.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${payment}/web.xml"
          tofile="${dist.dir}/${payment}/WEB-INF/web.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${payment}/payment.xml"
          tofile="${dist.dir}/${payment}/WEB-INF/classes/payment.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${payment}/payment-common.xml"
          tofile="${dist.dir}/${payment}/WEB-INF/classes/payment-common.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${payment}/application.properties"
          tofile="${dist.dir}/${payment}/WEB-INF/classes/application.properties" />
    <copy overwrite="false"
          file="${conf.dir}/${payment}/payment.properties"
          tofile="${dist.dir}/${payment}/WEB-INF/classes/payment.properties" />
    <copy overwrite="false"
          file="${conf.dir}/${payment}/payment-svc.xml"
          tofile="${dist.dir}/${payment}/WEB-INF/classes/payment-svc.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${payment}/payment-db.xml"
          tofile="${dist.dir}/${payment}/WEB-INF/classes/payment-db.xml" />
    <!--- deploy to tomcat's webapps directory  -->
    <copy todir="${tomcat.dir}/webapps/${payment}">
      <fileset dir="${dist.dir}/${payment}"
               includes="**/*.*" />
    </copy>
  </target>
  <target name="deploy-user"
          depends="build"
          description="Deploy User module to tomcat">
    <mkdir dir="dist" />
    <mkdir dir="${dist.dir}/${user}" />
    <mkdir dir="${dist.dir}/${user}/WEB-INF/classes" />
    <copy todir="${dist.dir}/${user}/WEB-INF/classes">
      <fileset dir="build"
               includes="**/*.class" />
    </copy>
    <copy overwrite="false"
          file="${lib.dir}/antlr-2.7.7.jar"
          todir="${dist.dir}/${user}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/c3p0-0.9.1.2.jar"
          todir="${dist.dir}/${user}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-codec-1.4.jar"
          todir="${dist.dir}/${user}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-collections-3.2.1.jar"
          todir="${dist.dir}/${user}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-fileupload.jar"
          todir="${dist.dir}/${user}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-httpclient-3.1.jar"
          todir="${dist.dir}/${user}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-logging-1.1.1.jar"
          todir="${dist.dir}/${user}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-lang-2.4.jar"
          todir="${dist.dir}/${user}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-pool-1.5.2.jar"
          todir="${dist.dir}/${user}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-validator-1.3.1.jar"
          todir="${dist.dir}/${user}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/cxf-2.2.6.jar"
          todir="${dist.dir}/${user}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/dom4j-1.6.1.jar"
          todir="${dist.dir}/${user}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/hibernate3.jar"
          todir="${dist.dir}/${user}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jakarta-oro-2.0.8.jar"
          todir="${dist.dir}/${user}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/javassist.jar"
          todir="${dist.dir}/${user}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jaxb-api-2.1.jar"
          todir="${dist.dir}/${user}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jaxb-impl-2.1.12.jar"
          todir="${dist.dir}/${user}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jaxb-xjc-2.1.12.jar"
          todir="${dist.dir}/${user}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jets3t-0.7.3.jar"
          todir="${dist.dir}/${user}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jetty-6.1.21.jar"
          todir="${dist.dir}/${user}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jetty-util-6.1.21.jar"
          todir="${dist.dir}/${user}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jta.jar"
          todir="${dist.dir}/${user}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/log4j-1.2.15.jar"
          todir="${dist.dir}/${user}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/mail.jar"
          todir="${dist.dir}/${user}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/mysql-connector-java-5.1.7-bin.jar"
          todir="${dist.dir}/${user}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/saaj-api-1.3.jar"
          todir="${dist.dir}/${user}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/saaj-impl-1.3.2.jar"
          todir="${dist.dir}/${user}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/slf4j-api-1.5.8.jar"
          todir="${dist.dir}/${user}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/slf4j-log4j12-1.5.6.jar"
          todir="${dist.dir}/${user}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/spring-2.5.6.jar"
          todir="${dist.dir}/${user}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/wsdl4j-1.6.2.jar"
          todir="${dist.dir}/${user}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/XmlSchema-1.4.5.jar"
          todir="${dist.dir}/${user}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${conf.dir}/${user}/application.properties"
          tofile="${dist.dir}/${user}/WEB-INF/classes/application.properties" />
    <copy overwrite="false"
          file="${conf.dir}/${user}/log4j.xml"
          tofile="${dist.dir}/${user}/WEB-INF/classes/log4j.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${user}/hibernate.user.mappings.xml"
          tofile="${dist.dir}/${user}/WEB-INF/classes/hibernate.user.mappings.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${user}/hibernate.user.queries.xml"
          tofile="${dist.dir}/${user}/WEB-INF/classes/hibernate.user.queries.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${user}/web.xml"
          tofile="${dist.dir}/${user}/WEB-INF/web.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${user}/user.xml"
          tofile="${dist.dir}/${user}/WEB-INF/classes/user.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${user}/user-common.xml"
          tofile="${dist.dir}/${user}/WEB-INF/classes/user-common.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${user}/user.properties"
          tofile="${dist.dir}/${user}/WEB-INF/classes/user.properties" />
    <copy overwrite="false"
          file="${conf.dir}/${user}/user-svc.xml"
          tofile="${dist.dir}/${user}/WEB-INF/classes/user-svc.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${user}/user-db.xml"
          tofile="${dist.dir}/${user}/WEB-INF/classes/user-db.xml" />
    <!--- deploy to tomcat's webapps directory  -->
    <copy todir="${tomcat.dir}/webapps/${user}">
      <fileset dir="${dist.dir}/${user}"
               includes="**/*.*" />
    </copy>
  </target>
  <target name="deploy-iprocessor"
          depends="build"
          description="Deploy Image Processor module to tomcat">
    <mkdir dir="dist" />
    <mkdir dir="${dist.dir}/${iprocessor}" />
    <mkdir dir="${dist.dir}/${iprocessor}/WEB-INF/classes" />
    <copy todir="${dist.dir}/${iprocessor}/WEB-INF/classes">
      <fileset dir="build"
               includes="**/*.class" />
    </copy>
    <copy overwrite="false"
          file="${lib.dir}/antlr-2.7.7.jar"
          todir="${dist.dir}/${iprocessor}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/c3p0-0.9.1.2.jar"
          todir="${dist.dir}/${iprocessor}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-codec-1.4.jar"
          todir="${dist.dir}/${iprocessor}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-collections-3.2.1.jar"
          todir="${dist.dir}/${iprocessor}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-fileupload.jar"
          todir="${dist.dir}/${iprocessor}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-httpclient-3.1.jar"
          todir="${dist.dir}/${iprocessor}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-logging-1.1.1.jar"
          todir="${dist.dir}/${iprocessor}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/commons-pool-1.5.2.jar"
          todir="${dist.dir}/${iprocessor}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/cxf-2.2.6.jar"
          todir="${dist.dir}/${iprocessor}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/dom4j-1.6.1.jar"
          todir="${dist.dir}/${iprocessor}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/hibernate3.jar"
          todir="${dist.dir}/${iprocessor}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/javassist.jar"
          todir="${dist.dir}/${iprocessor}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jai_codec.jar"
          todir="${dist.dir}/${iprocessor}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jai_core.jar"
          todir="${dist.dir}/${iprocessor}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jaxb-api-2.1.jar"
          todir="${dist.dir}/${iprocessor}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jaxb-impl-2.1.12.jar"
          todir="${dist.dir}/${iprocessor}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jaxb-xjc-2.1.12.jar"
          todir="${dist.dir}/${iprocessor}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jets3t-0.7.3.jar"
          todir="${dist.dir}/${iprocessor}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jetty-6.1.21.jar"
          todir="${dist.dir}/${iprocessor}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jetty-util-6.1.21.jar"
          todir="${dist.dir}/${iprocessor}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/jta.jar"
          todir="${dist.dir}/${iprocessor}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/log4j-1.2.15.jar"
          todir="${dist.dir}/${iprocessor}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/mail.jar"
          todir="${dist.dir}/${iprocessor}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/mysql-connector-java-5.1.7-bin.jar"
          todir="${dist.dir}/${iprocessor}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/saaj-api-1.3.jar"
          todir="${dist.dir}/${iprocessor}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/saaj-impl-1.3.2.jar"
          todir="${dist.dir}/${iprocessor}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/slf4j-api-1.5.8.jar"
          todir="${dist.dir}/${iprocessor}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/slf4j-log4j12-1.5.6.jar"
          todir="${dist.dir}/${iprocessor}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/spring-2.5.6.jar"
          todir="${dist.dir}/${iprocessor}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/wsdl4j-1.6.2.jar"
          todir="${dist.dir}/${iprocessor}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${lib.dir}/XmlSchema-1.4.5.jar"
          todir="${dist.dir}/${iprocessor}/WEB-INF/lib" />
    <copy overwrite="false"
          file="${conf.dir}/${iprocessor}/log4j.xml"
          tofile="${dist.dir}/${iprocessor}/WEB-INF/classes/log4j.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${iprocessor}/hibernate.iprocessor.mappings.xml"
          tofile="${dist.dir}/${iprocessor}/WEB-INF/classes/hibernate.iprocessor.mappings.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${iprocessor}/hibernate.iprocessor.queries.xml"
          tofile="${dist.dir}/${iprocessor}/WEB-INF/classes/hibernate.iprocessor.queries.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${iprocessor}/web.xml"
          tofile="${dist.dir}/${iprocessor}/WEB-INF/web.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${iprocessor}/iprocessor.xml"
          tofile="${dist.dir}/${iprocessor}/WEB-INF/classes/iprocessor.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${iprocessor}/iprocessor-common.xml"
          tofile="${dist.dir}/${iprocessor}/WEB-INF/classes/iprocessor-common.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${iprocessor}/application.properties"
          tofile="${dist.dir}/${iprocessor}/WEB-INF/classes/application.properties" />
    <copy overwrite="false"
          file="${conf.dir}/${iprocessor}/iprocessor.properties"
          tofile="${dist.dir}/${iprocessor}/WEB-INF/classes/iprocessor.properties" />
    <copy overwrite="false"
          file="${conf.dir}/${iprocessor}/iprocessor-svc.xml"
          tofile="${dist.dir}/${iprocessor}/WEB-INF/classes/iprocessor-svc.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${iprocessor}/iprocessor-db.xml"
          tofile="${dist.dir}/${iprocessor}/WEB-INF/classes/iprocessor-db.xml" />
    <copy overwrite="false"
          file="${conf.dir}/${iprocessor}/iprocessor-proxy.xml"
          tofile="${dist.dir}/${iprocessor}/WEB-INF/classes/iprocessor-proxy.xml" />
    <!--- deploy to tomcat's webapps directory  -->
    <copy todir="${tomcat.dir}/webapps/${iprocessor}">
      <fileset dir="${dist.dir}/${iprocessor}"
               includes="**/*.*" />
    </copy>
  </target>
</project>
